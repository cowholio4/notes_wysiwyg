!!! 5
html
  head
    meta(http-equiv='X-UA-Compatible', content='IE=Edge')
    meta(charset='utf-8')
    title Facebook Notes Bootstrap wysihtml5
    link(rel='stylesheet', type='text/css', href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css")
    link(rel='stylesheet', type='text/css', href='vendor/bootstrap-wysihtml5/lib/css/prettify.css')
    link(rel='stylesheet', type='text/css', href='vendor/bootstrap-wysihtml5/src/bootstrap-wysihtml5.css')
    style(type='text/css', media='screen')
      .btn.jumbo {
      font-size: 20px;
      font-weight: normal;
      padding: 14px 24px;
      margin-right: 10px;
      -webkit-border-radius: 6px;
      -moz-border-radius: 6px;
      border-radius: 6px;
      }
    script(type='text/javascript')
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-33448710-1']);
      _gaq.push(['_trackPageview']);
      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
  body
    #fb-root
    script(type='text/javascript')
      window.fbAsyncInit = function() {
        // init the FB JS SDK
        FB.init({
          appId      : '502305659810443', // App ID from the App Dashboard
          channelUrl : '//cowholio4.github.com/notes_wysiwyg/channel.html', // Channel File for x-domain communication
          status     : true, // check the login status upon init?
          cookie     : true, // set sessions cookies to allow your server to access the session?
          xfbml      : true  // parse XFBML tags on this page?
        });

        // Additional initialization code such as adding Event Listeners goes here
        FB.getLoginStatus(function(response) {
          if (response.status === 'connected') {
            // connected
          } else if (response.status === 'not_authorized') {
            // not_authorized
          } else {
            // not_logged_in
          }
         });

      };
      // Load the SDK's source Asynchronously
      // Note that the debug version is being actively developed and might 
      // contain some type checks that are overly strict. 
      // Please report such bugs using the bugs tool.
      (function(d, debug){
         var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement('script'); js.id = id; js.async = true;
         js.src = "https://connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
         ref.parentNode.insertBefore(js, ref);
       }(document, /*debug*/ false));

    .container
      .hero-unit(style='margin-top: 40px;')
        h1(style='font-size:40px')
          | bootstrap-wysihtml5 
          small Simple, beautiful wysiwyg editors
        hr
        textarea#content.textarea(placeholder='Enter text ...', style='width: 810px; height: 200px;')
        hr
        button.publish.btn.btn-large.btn-block.btn-primary(type="button") Publish

      .row
        .span6
          h2 About
          p
            | bootstrap-wysihtml5 is a javascript plugin that makes it easy to create simple, beautiful wysiwyg editors with the help of 
            a(href='https://github.com/xing/wysihtml5') wysihtml5 
            | and 
            a(href='http://twitter.github.com/bootstrap/') Twitter Bootstrap
          p(style='text-align: center; margin-top: 20px;')
            a.btn.btn-large.btn-primary.jumbo(href='https://github.com/jhollingworth/bootstrap-wysihtml5/') View project on Github
        .span6
          h2 Usage
          p
            pre.prettyprint.linenums
              | $('.textarea').wysihtml5();              
          h3 Dependencies
          p
            ul
              li
                a(href='https://raw.github.com/jhollingworth/bootstrap-wysihtml5/master/src/bootstrap-wysihtml5.js') bootstrap-wysihtml5.js
              li
                a(href='https://raw.github.com/jhollingworth/bootstrap-wysihtml5/master/src/bootstrap-wysihtml5.css') bootstrap-wysihtml5.css
              li
                a(href='https://github.com/xing/wysihtml5') wysihtml5
              li
                a(href='http://twitter.github.com/bootstrap/') Twitter Bootstrap
    script(src='vendor/bootstrap-wysihtml5/lib/js/wysihtml5-0.3.0.js')
    //- script(src='vendor/bootstrap-wysihtml5/lib/js/jquery-1.7.2.min.js')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js')
    script(src='vendor/bootstrap-wysihtml5/lib/js/prettify.js')
    script(src='https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js')
    //- script(src='vendor/bootstrap-wysihtml5/lib/js/bootstrap.min.js')
    script(src='vendor/bootstrap-wysihtml5/src/bootstrap-wysihtml5.js')
    script
      $('#content').wysihtml5();
      $('.publish').click( function() {
        login();
        var content = $("#content").val();
        console.log( content );
      });
      function login() {
        FB.login(function(response) {
          if (response.authResponse) {
            // connected
          } else {
            // cancelled
          }
        }, {scope: 'manage_pages,publish_stream'});
      } 
      
    script(type='text/javascript', charset='utf-8')
      $(prettyPrint);
